<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PDF Viewer</title>
<style>
body,html {margin:0;padding:0;height:100%;background:#0a192f;color:#e6f1ff;display:flex;flex-direction:column;font-family:"Poppins",sans-serif;}
header{background:#112240;padding:10px;text-align:center;}
#controls {display:flex;justify-content:center;align-items:center;gap:10px;padding:5px;}
#pdf-container {flex:1; overflow:auto; display:flex; justify-content:center; align-items:flex-start; padding:10px;}
canvas{margin-bottom:10px; background:#fff; border-radius:5px;}
button{padding:5px 10px;border:none;border-radius:5px;background:#64ffda;color:#0a192f;font-weight:bold; cursor:pointer;}
button:hover{opacity:0.8;}
</style>
</head>
<body>

<header>📖 PDF Viewer (Zoom & Navigation)</header>
<div id="controls">
  <button id="prev">⬅ Prev</button>
  <button id="next">Next ➡</button>
  <span>Page: <span id="page_num">1</span> / <span id="page_count">1</span></span>
  <button id="zoom_in">🔍+</button>
  <button id="zoom_out">🔍-</button>
</div>
<div id="pdf-container"></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.16.105/pdf.min.js"></script>
<script>
const urlParams = new URLSearchParams(window.location.search);
const file = urlParams.get('file');
if(!file){document.getElementById('pdf-container').innerHTML='No PDF file specified';}

pdfjsLib.GlobalWorkerOptions.workerSrc='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.16.105/pdf.worker.min.js';

let pdfDoc=null, pageNum=1, scale=1.5;
const container=document.getElementById('pdf-container');
const page_num_el=document.getElementById('page_num');
const page_count_el=document.getElementById('page_count');

function renderPage(num){
  pdfDoc.getPage(num).then(page=>{
    const viewport=page.getViewport({scale});
    container.innerHTML='';
    const canvas=document.createElement('canvas');
    const ctx=canvas.getContext('2d');
    canvas.height=viewport.height;
    canvas.width=viewport.width;
    container.appendChild(canvas);
    page.render({canvasContext:ctx,viewport:viewport});
    page_num_el.textContent=num;
  });
}

pdfjsLib.getDocument(file).promise.then(pdf=>{
  pdfDoc=pdf;
  page_count_el.textContent=pdfDoc.numPages;
  renderPage(pageNum);
});

document.getElementById('prev').addEventListener('click',()=>{
  if(pageNum<=1)return;
  pageNum--;
  renderPage(pageNum);
});
document.getElementById('next').addEventListener('click',()=>{
  if(pageNum>=pdfDoc.numPages)return;
  pageNum++;
  renderPage(pageNum);
});
document.getElementById('zoom_in').addEventListener('click',()=>{scale+=0.25; renderPage(pageNum);});
document.getElementById('zoom_out').addEventListener('click',()=>{scale=Math.max(0.5,scale-0.25); renderPage(pageNum);});
</script>

</body>
</html>